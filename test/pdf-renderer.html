<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF渲染器 - 模块化版本</title>
    <link rel="stylesheet" href="css/pdf-renderer.css">
    <!-- MathJax配置必须在MathJax库加载之前 -->
    <script src="js/mathjax-config.js"></script>
    <!-- MathJax for LaTeX rendering -->
    <script id="MathJax-script" src="..\js\tex-mml-chtml.js"></script>
    <!-- html2pdf.js for PDF generation -->
    <script src="..\js\html2pdf.bundle.min.js"></script>
    <!-- Marked.js for Markdown parsing -->
    <script src="..\js\marked.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>📄 PDF渲染器工具</h1>
        
        <!-- 标准输入区域 -->
        <div class="control-panel">
            <h3>📝 标准输入区域</h3>
            <p>支持标准Markdown和LaTeX语法，自动转换为渲染器格式</p>
            <textarea id="userFriendlyInput" class="json-input" placeholder="在此输入标准的Markdown和LaTeX内容..."></textarea>
            <div class="button-group">
                <button class="render-button" id="convertButton">🔄 转换并渲染</button>
                <button class="render-button copy-button" id="copyConvertedButton">📋 复制转换结果</button>
            </div>
        </div>

        <!-- 高级输入区域 -->
        <div class="control-panel">
            <h3>⚙️ 高级输入区域 (JSON格式)</h3>
            <p>直接输入JSON格式数据，支持复杂的文档结构</p>
            <textarea id="jsonInput" class="json-input" placeholder='{
  "title": "文档标题",
  "context": "Markdown内容...",
  "author": "作者",
  "timestamp": "时间戳"
}'></textarea>
            <div class="button-group">
                <button class="render-button" id="renderButton">🚀 渲染内容</button>
                <button class="pdf-button" id="pdfButton" disabled>📄 生成PDF下载</button>
            </div>
        </div>

        <!-- 输出区域 -->
        <div class="output-section">
            <div class="output-title">🎨 渲染结果</div>
            <div id="output" class="rendered-content"></div>

            <div class="output-title">📊 解析信息</div>
            <div id="parseInfo" class="rendered-content"></div>
        </div>
    </div>

    <!-- 引入模块化的JavaScript文件 -->
    <script src="js/markdown-processor.js"></script>
    <script src="js/pdf-generator.js"></script>
    <script src="js/ui-controller.js"></script>
    <script src="js/app-controller.js"></script>
</body>
</html>